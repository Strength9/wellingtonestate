var controller;function initialise(){if(!Modernizr.touch&&jQuery(window).width()>=900){controller=new ScrollMagic.Controller;var e=(new TimelineMax).add([TweenMax.to("#parallax1 .bg",1,{scale:"1.1",ease:Linear.easeNone})]),o=(new TimelineMax).add([TweenMax.to("#parallax2 .bg",1,{scale:"1.1",ease:Linear.easeNone})]),n=(new TimelineMax).add([TweenMax.to("#parallax3 .bg",1,{scale:"1.1",ease:Linear.easeNone})]),a=(new TimelineMax).add([TweenMax.to("#parallax4 .bg",1,{scale:"1.1",ease:Linear.easeNone})]),l=(new TimelineMax).add([TweenMax.to("#parallax5 .bg",1,{scale:"1.1",ease:Linear.easeNone})]),r=(new TimelineMax).add([TweenMax.to("#parallax6 .bg",1,{scale:"1.1",ease:Linear.easeNone})]),t=(new TimelineMax).add([TweenMax.to("#parallax7 .bg",1,{scale:"1.1",ease:Linear.easeNone})]);new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",duration:"2700"}).setPin("#pinContainer").addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"300",duration:"6000"}).setClassToggle("#parallax1","in-scene").addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"-100",duration:"400"}).setTween(e).addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"300",duration:"400"}).setTween(o).setClassToggle("#parallax2","active").addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"700",duration:"400"}).setClassToggle("#parallax3","active").setTween(n).addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"1100",duration:"400"}).setClassToggle("#parallax4","active").setTween(a).addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"1500",duration:"400"}).setClassToggle("#parallax5","active").setTween(l).addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"1900",duration:"400"}).setClassToggle("#parallax6","active").setTween(r).addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"2300",duration:"400"}).setClassToggle("#parallax7","active").setTween(t).addTo(controller),new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",offset:"2300",duration:"6000"}).setClassToggle("#parallax7","active").addTo(controller)}}jQuery("#EstatesAction").click((function(e){jQuery("#toggle").addClass("open"),jQuery(this).toggleClass("active"),jQuery(".business-menu").addClass("open"),e.stopPropagation()})),jQuery("#close-toggle").click((function(e){jQuery(this).toggleClass("open"),jQuery("#toggle").removeClass("active"),jQuery(".business-menu").removeClass("open"),e.stopPropagation()})),jQuery("#toggle").click((function(e){jQuery(this).toggleClass("active"),jQuery(".mobile_menu_overlay").addClass("open"),e.stopPropagation()})),jQuery("#close-toggle-mobile").click((function(e){jQuery("#toggle").removeClass("active"),jQuery(".mobile_menu_overlay").removeClass("open"),e.stopPropagation()})),jQuery(".open-sub").click((function(e){jQuery(this).toggleClass("active"),jQuery(this).parents("li").children(".sub-menu").toggleClass("open")})),jQuery.fn.isInViewport=function(){var e=jQuery(this).offset().top,o=e+jQuery(this).outerHeight(),n=jQuery(window).scrollTop(),a=n+jQuery(window).height();return o>n&&e<a},document.body.classList.contains("dynamicdisplay")&&jQuery(window).scroll((function(){jQuery(this).scrollTop()>=350?jQuery(".wellingtonMenu").addClass("show"):jQuery(".wellingtonMenu").removeClass("show")})),function($,e){$(e).on("hashchange load",(function(){var e;(e=$(":target")).length>0&&$("html, body").stop().animate({scrollTop:e.offset().top-100},200)}))}(jQuery,window),jQuery("#searchsite").on("click",(function(e){jQuery("#searchholder").toggleClass("search-show"),e.preventDefault()})),jQuery("#close-search-toggle").on("click",(function(e){jQuery("#searchholder").toggleClass("search-show"),e.preventDefault()})),jQuery(window).on("resize",(function(e){jQuery(window).width()<900&&(void 0!==controller||null!==controller)?controller=controller.destroy(!0):null==controller&&(console.log("init scroll"),initialise())})),jQuery((function(){initialise()}));